# Git Smart Push 스킬

안전하고 스마트한 Git push 워크플로우를 자동화하는 Claude Code 스킬입니다.

## 사용 방법

```bash
# 스킬 실행
/push

# 또는 자연어로 요청
"git push 해줘"
"현재 브랜치를 푸시해줘"
```

## 주요 기능

### 1. 자동 Dev 브랜치 Merge
- dev 브랜치가 있으면 자동으로 감지
- 최신 dev를 pull하고 현재 브랜치에 merge
- 충돌 발생 시 안전하게 중단

### 2. 스마트 Pull
- 현재 브랜치의 원격 변경사항을 자동으로 pull
- 충돌 방지를 위한 사전 merge

### 3. 안전한 Push
- 모든 작업을 사용자에게 확인받음
- main/master 브랜치 보호
- 명확한 에러 메시지

## 워크플로우

```
┌─────────────────────────────────┐
│  /push 명령어 실행              │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  1. 현재 Git 상태 확인          │
│  - 현재 브랜치                  │
│  - 커밋 안된 변경사항           │
│  - dev 브랜치 존재 여부         │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  2. 사용자 확인                 │
│  [?] dev merge 여부             │
│  [?] 현재 브랜치 pull 여부      │
│  [?] push 실행 여부             │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  3. dev 브랜치 처리 (선택 시)  │
│  - dev를 최신으로 업데이트      │
│  - 현재 브랜치에 merge          │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  4. 현재 브랜치 Pull (선택 시) │
│  - 원격 변경사항 가져오기       │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  5. Push 실행                   │
│  - 원격 리포지토리 업데이트     │
└────────────┬────────────────────┘
             │
             ▼
┌─────────────────────────────────┐
│  ✅ 완료!                       │
│  작업 요약 출력                 │
└─────────────────────────────────┘
```

## 실행 예시

### 예시 1: Dev 브랜치와 함께 사용

```
User: /push

Claude: 현재 Git 상태를 확인하는 중...

현재 브랜치: feature/user-auth
변경사항: 모두 커밋됨
dev 브랜치: 존재함 (로컬 및 원격)

[질문 1] dev 브랜치를 pull하고 현재 브랜치에 merge하시겠습니까?
→ 선택: "예, dev를 merge합니다 (권장)"

[질문 2] 현재 브랜치(feature/user-auth)를 pull하시겠습니까?
→ 선택: "예, pull합니다 (권장)"

[질문 3] 모든 준비가 완료되었습니다. feature/user-auth을 push하시겠습니까?
→ 선택: "예, push합니다"

📝 dev 브랜치를 pull하는 중...
✅ dev 브랜치 업데이트 완료

🔀 dev를 feature/user-auth에 merge 중...
✅ Merge 완료

📥 feature/user-auth를 pull하는 중...
✅ Pull 완료 (이미 최신 상태)

🚀 feature/user-auth를 push하는 중...
✅ Push 완료!

작업 요약:
- dev 브랜치 merge: 예
- 현재 브랜치 pull: 예
- Push 브랜치: feature/user-auth
- 최종 커밋: a1b2c3d

원격 리포지토리가 업데이트되었습니다.
```

### 예시 2: Dev 브랜치 없이 사용

```
User: /push

Claude: 현재 Git 상태를 확인하는 중...

현재 브랜치: main
변경사항: 모두 커밋됨
dev 브랜치: 없음

⚠️ 경고: 현재 main 브랜치에 있습니다.
직접 push하는 것은 권장되지 않습니다.

계속하시겠습니까?
→ 선택: "예, 계속합니다"

[질문 1] 현재 브랜치(main)를 pull하시겠습니까?
→ 선택: "예, pull합니다 (권장)"

[질문 2] 모든 준비가 완료되었습니다. main을 push하시겠습니까?
→ 선택: "예, push합니다"

📥 main을 pull하는 중...
✅ Pull 완료

🚀 main을 push하는 중...
✅ Push 완료!
```

### 예시 3: Merge 충돌 발생

```
User: /push

Claude: 현재 Git 상태를 확인하는 중...
...
🔀 dev를 feature/payment에 merge 중...

❌ Merge 충돌이 발생했습니다.

충돌 파일:
- src/app/payment/page.tsx
- package.json

해결 방법:
1. 충돌 파일을 열어서 수동으로 해결
2. git add <파일명>으로 해결된 파일 추가
3. git commit으로 merge 커밋 완료
4. 다시 /push 실행

현재 작업을 중단합니다.
```

## 설치 방법

이 스킬은 이미 프로젝트의 `.claude/skills/git-smart-push/` 디렉토리에 설치되어 있습니다.

Claude Code가 자동으로 인식하며 별도의 설치 과정이 필요 없습니다.

## 요구사항

- Git이 설치되어 있어야 합니다
- 원격 리포지토리(origin)가 설정되어 있어야 합니다
- Git 인증이 완료되어 있어야 합니다

## 문제 해결

### 스킬이 실행되지 않는 경우

1. Claude Code 재시작
2. `.claude/skills/` 디렉토리 권한 확인
3. SKILL.md 파일 형식 확인

### Push가 실패하는 경우

- GitHub/GitLab 인증 확인
- SSH 키 또는 Personal Access Token 확인
- 브랜치 보호 규칙 확인

## 커스터마이징

필요에 따라 `SKILL.md` 파일을 수정하여 워크플로우를 커스터마이징할 수 있습니다:

- 다른 브랜치 이름 사용 (dev 대신 develop 등)
- 추가 검증 단계 추가
- 자동 테스트 실행
- 커밋 메시지 검증

## 라이선스

MIT License
